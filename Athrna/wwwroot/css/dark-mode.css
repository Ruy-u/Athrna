/* Enhanced Dark Mode CSS with improved support for City Site pages */

/* Light mode (default) */
:root {
    --bg-color: #ffffff;
    --text-color: #333333;
    --header-bg: #1a3b29;
    --header-text: #ffffff;
    --card-bg: #ffffff;
    --card-border: #dee2e6;
    --secondary-bg: #f8f9fa;
    --accent-color: #1a3b29;
    --muted-text: #6c757d;
    --link-color: #0d6efd;
    --button-primary-bg: #1a3b29;
    --button-primary-text: #ffffff;
    --button-secondary-bg: #6c757d;
    --button-secondary-text: #ffffff;
    --input-bg: #ffffff;
    --input-border: #ced4da;
    --footer-bg: #f8f9fa;
    --footer-text: #6c757d;
    --map-bg: #f8f9fa;
    --map-border: #dee2e6;
    --site-card-bg: #ffffff;
    --site-card-text: #333333;
    --site-card-shadow: rgba(0, 0, 0, 0.1);
    --site-meta-text: #ffffff;
    --site-sidebar-bg: #ffffff;
    --site-sidebar-text: #333333;
    --site-widget-header-bg: #f8f9fa;
    --site-rating-star: #f8c15c;
    --site-card-hover-shadow: rgba(0, 0, 0, 0.15);
}

/* Dark mode variables */
[data-theme="dark"] {
    --bg-color: #121212;
    --text-color: #e0e0e0;
    --header-bg: #0e1e16; /* Darker version of the original green */
    --header-text: #ffffff;
    --card-bg: #1e1e1e;
    --card-border: #333333;
    --secondary-bg: #2d2d2d;
    --accent-color: #2c5f46; /* Lighter version of the green for better visibility */
    --muted-text: #a0a0a0;
    --link-color: #63b3ed;
    --button-primary-bg: #2c5f46;
    --button-primary-text: #ffffff;
    --button-secondary-bg: #4a4a4a;
    --button-secondary-text: #ffffff;
    --input-bg: #2d2d2d;
    --input-border: #444444;
    --footer-bg: #1a1a1a;
    --footer-text: #a0a0a0;
    --map-bg: #1e1e1e;
    --map-border: #333333;
    --site-card-bg: #1e1e1e;
    --site-card-text: #e0e0e0;
    --site-card-shadow: rgba(0, 0, 0, 0.3);
    --site-meta-text: #ffffff;
    --site-sidebar-bg: #1e1e1e;
    --site-sidebar-text: #e0e0e0;
    --site-widget-header-bg: #2d2d2d;
    --site-rating-star: #f8c15c;
    --site-card-hover-shadow: rgba(0, 0, 0, 0.5);
}

    /* Core element styles */
    [data-theme="dark"] body {
        background-color: var(--bg-color) !important;
        color: var(--text-color) !important;
    }

    [data-theme="dark"] main {
        background-color: var(--bg-color) !important;
        color: var(--text-color) !important;
    }

    /* Header styles */
    [data-theme="dark"] header {
        background-color: var(--header-bg) !important;
        color: var(--header-text) !important;
    }

    /* Global card styles */
    [data-theme="dark"] .card,
    [data-theme="dark"] .dashboard-widget,
    [data-theme="dark"] .bookmark-card,
    [data-theme="dark"] .guide-card,
    [data-theme="dark"] .rating-item,
    [data-theme="dark"] .bookmark-item,
    [data-theme="dark"] .stat-card,
    [data-theme="dark"] .site-description-section,
    [data-theme="dark"] .sidebar-widget,
    [data-theme="dark"] div.card,
    [data-theme="dark"] .card-content {
        background-color: var(--card-bg) !important;
        border-color: var(--card-border) !important;
        color: var(--text-color) !important;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3) !important;
    }

    /* City/Site specific elements */
    [data-theme="dark"] .site-card {
        background-color: var(--site-card-bg) !important;
        border-color: var(--card-border) !important;
        color: var(--site-card-text) !important;
        box-shadow: 0 4px 6px var(--site-card-shadow) !important;
    }

        [data-theme="dark"] .site-card:hover {
            box-shadow: 0 10px 20px var(--site-card-hover-shadow) !important;
        }

    [data-theme="dark"] .site-meta {
        background-color: var(--site-meta-bg) !important;
        color: var(--site-meta-text) !important;
    }

    [data-theme="dark"] .site-hero .container {
        color: var(--site-meta-text) !important;
    }

    [data-theme="dark"] .site-title {
        color: var(--site-meta-text) !important;
    }

    [data-theme="dark"] .site-sidebar {
        background-color: var(--site-sidebar-bg) !important;
        color: var(--site-sidebar-text) !important;
    }

    [data-theme="dark"] .sidebar-widget h4 {
        color: var(--text-color) !important;
        border-color: var(--card-border) !important;
    }

    [data-theme="dark"] .site-info h5,
    [data-theme="dark"] .card-header h6 {
        color: var(--text-color) !important;
    }

    /* Service items */
    [data-theme="dark"] .service-item {
        background-color: var(--secondary-bg) !important;
        border-color: var(--card-border) !important;
    }

        [data-theme="dark"] .service-item:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3) !important;
        }

    [data-theme="dark"] .service-icon {
        color: var(--accent-color) !important;
    }

    [data-theme="dark"] .service-details h4 {
        color: var(--text-color) !important;
    }

    [data-theme="dark"] .service-details p {
        color: var(--muted-text) !important;
    }

    /* Guide profiles */
    [data-theme="dark"] .guide-profile,
    [data-theme="dark"] alert alert-info {
        background-color: var(--secondary-bg) !important;
    }

        [data-theme="dark"] .guide-profile:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3) !important;
        }

    [data-theme="dark"] .guide-info h4 {
        color: var(--text-color) !important;
    }

    [data-theme="dark"] .guide-details {
        color: var(--muted-text) !important;
    }

    /* Ratings section */
    [data-theme="dark"] .rating-summary {
        background-color: var(--secondary-bg) !important;
        border-color: var(--card-border) !important;
    }

    [data-theme="dark"] .rating-value {
        color: var(--text-color) !important;
    }

    [data-theme="dark"] .stars,
    [data-theme="dark"] .review-stars,
    [data-theme="dark"] .rating-stars {
        color: var(--site-rating-star) !important;
    }

    [data-theme="dark"] .rating-count,
    [data-theme="dark"] .rating-label {
        color: var(--muted-text) !important;
    }

    [data-theme="dark"] .review-item {
        border-color: var(--card-border) !important;
    }

    [data-theme="dark"] .reviewer-name {
        color: var(--text-color) !important;
    }

    [data-theme="dark"] .review-text {
        color: var(--muted-text) !important;
    }

    /* Lists and tables */
    [data-theme="dark"] .nearby-sites li,
    [data-theme="dark"] .hours-list li,
    [data-theme="dark"] .fees-list li {
        border-color: var(--card-border) !important;
        color: var(--text-color) !important;
    }

    [data-theme="dark"] .site-type-badge {
        background-color: var(--accent-color) !important;
        color: var(--site-meta-text) !important;
    }

    /* Location map */
    [data-theme="dark"] .site-location-map {
        border-color: var(--card-border) !important;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
    }

    /* City header */
    [data-theme="dark"] .city-header {
        background-color: rgba(0, 0, 0, 0.7) !important;
    }

    [data-theme="dark"] .city-overlay {
        background-color: rgba(0, 0, 0, 0.6) !important;
    }

    [data-theme="dark"] .city-header h1,
    [data-theme="dark"] .city-header p {
        color: var(--site-meta-text) !important;
    }

    /* Buttons */
    [data-theme="dark"] .btn-primary {
        background-color: var(--button-primary-bg) !important;
        border-color: var(--button-primary-bg) !important;
        color: var(--button-primary-text) !important;
    }

    [data-theme="dark"] .btn-outline-primary {
        border-color: var(--accent-color) !important;
        color: var(--accent-color) !important;
    }

        [data-theme="dark"] .btn-outline-primary:hover {
            background-color: var(--accent-color) !important;
            color: var(--button-primary-text) !important;
        }

    /* Rating input */
    [data-theme="dark"] .rating-stars label {
        color: #555 !important;
    }

        [data-theme="dark"] .rating-stars input:checked ~ label,
        [data-theme="dark"] .rating-stars label:hover,
        [data-theme="dark"] .rating-stars label:hover ~ label {
            color: var(--site-rating-star) !important;
        }

    /* Force text colors */
    [data-theme="dark"] h1,
    [data-theme="dark"] h2,
    [data-theme="dark"] h3,
    [data-theme="dark"] h4,
    [data-theme="dark"] h5,
    [data-theme="dark"] h6,
    [data-theme="dark"] p,
    [data-theme="dark"] span:not(.badge):not(.site-type):not([class*="text-"]),
    [data-theme="dark"] li,
    [data-theme="dark"] label,
    [data-theme="dark"] .site-description,
    [data-theme="dark"] .cultural-info {
        color: var(--text-color) !important;
    }

    /* Fix forms in dark mode */
    [data-theme="dark"] input[type="text"],
    [data-theme="dark"] input[type="email"],
    [data-theme="dark"] input[type="password"],
    [data-theme="dark"] select,
    [data-theme="dark"] textarea {
        background-color: var(--input-bg) !important;
        border-color: var(--input-border) !important;
        color: var(--text-color) !important;
    }

    /* Fix cards in dark mode - ensure all content is properly colored */
    [data-theme="dark"] .card *,
    [data-theme="dark"] .site-description-section *,
    [data-theme="dark"] .sidebar-widget * {
        color: var(--text-color) !important;
    }

    /* Override for special elements that should have different colors */
    [data-theme="dark"] .card .text-muted,
    [data-theme="dark"] .site-description-section .text-muted,
    [data-theme="dark"] .sidebar-widget .text-muted {
        color: var(--muted-text) !important;
    }

    [data-theme="dark"] .card .stars *,
    [data-theme="dark"] .card .rating-stars *,
    [data-theme="dark"] .card .review-stars * {
        color: var(--site-rating-star) !important;
    }

    [data-theme="dark"] .btn-primary *,
    [data-theme="dark"] .btn-outline-primary:hover * {
        color: var(--button-primary-text) !important;
    }

/* Dark mode toggle button styles */
.dark-mode-toggle {
    background: transparent;
    border: none;
    color: var(--header-text);
    cursor: pointer;
    font-size: 1.2rem;
    margin-left: 10px;
    display: flex;
    align-items: center;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
}

    .dark-mode-toggle:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }

    .dark-mode-toggle .bi {
        font-size: 1.2rem;
    }

/* Transition effects */
body,
.card,
.dashboard-widget,
.form-control,
.btn,
a,
.site-card,
.service-item,
.guide-profile,
.site-sidebar,
.sidebar-widget {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Fix for inputs in dark mode */
[data-theme="dark"] input:-webkit-autofill,
[data-theme="dark"] input:-webkit-autofill:hover,
[data-theme="dark"] input:-webkit-autofill:focus,
[data-theme="dark"] textarea:-webkit-autofill,
[data-theme="dark"] textarea:-webkit-autofill:hover,
[data-theme="dark"] textarea:-webkit-autofill:focus,
[data-theme="dark"] select:-webkit-autofill,
[data-theme="dark"] select:-webkit-autofill:hover,
[data-theme="dark"] select:-webkit-autofill:focus {
    -webkit-text-fill-color: var(--text-color) !important;
    -webkit-box-shadow: 0 0 0px 1000px var(--input-bg) inset !important;
    transition: background-color 5000s ease-in-out 0s;
}
/* Enhanced Dark Mode Fixes for Athrna
 * This CSS adds missing dark mode support for:
 * - Language selector
 * - City explore section
 * - User dashboard
 */

/* Language Selector Dark Mode Fixes */
[data-theme="dark"] .language-selector .dropdown-menu {
    background-color: #2d2d2d;
    border-color: #444;
}

[data-theme="dark"] .language-selector .dropdown-item {
    color: #e0e0e0;
}

    [data-theme="dark"] .language-selector .dropdown-item:hover,
    [data-theme="dark"] .language-selector .dropdown-item:focus,
    [data-theme="dark"] .language-selector .dropdown-item.active {
        background-color: #3a3a3a;
        color: #63b3ed;
    }

/* City Explore Cards Dark Mode Fixes */
[data-theme="dark"] .city-explore-card {
    background-color: #1e1e1e;
}

    [data-theme="dark"] .city-explore-card .city-overlay {
        background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.7));
    }

[data-theme="dark"] .city-explore-content h3 {
    color: #fff;
}

[data-theme="dark"] .city-explore-card .btn-light {
    background-color: rgba(255, 255, 255, 0.2);
    color: white;
    border-color: transparent;
}

    [data-theme="dark"] .city-explore-card .btn-light:hover {
        background-color: rgba(255, 255, 255, 0.3);
    }

/* User Dashboard Dark Mode Fixes */
[data-theme="dark"] .dashboard-container {
    background-color: #121212;
}

[data-theme="dark"] .dashboard-nav .nav-tabs {
    border-bottom-color: #444;
}

[data-theme="dark"] .dashboard-nav .nav-link {
    color: #ccc;
}

    [data-theme="dark"] .dashboard-nav .nav-link.active {
        color: #63b3ed;
        border-bottom-color: #63b3ed;
    }

[data-theme="dark"] .stat-card {
    background-color: #2d2d2d;
}

[data-theme="dark"] .stat-icon {
    background-color: #3a3a3a;
    color: #63b3ed;
}

[data-theme="dark"] .stat-content h3 {
    color: #e0e0e0;
}

[data-theme="dark"] .bookmark-item,
[data-theme="dark"] .rating-item,
[data-theme="dark"] .booking-item,
[data-theme="dark"] .conversation-item {
    background-color: #2d2d2d;
}

[data-theme="dark"] .bookmark-type,
[data-theme="dark"] .site-type {
    background-color: #3a3a3a;
    color: #63b3ed;
}

[data-theme="dark"] .empty-content {
    color: #a0a0a0;
}

/* Fix modals in dark mode */
[data-theme="dark"] .modal-content {
    background-color: #2d2d2d;
    color: #e0e0e0;
}

[data-theme="dark"] .modal-header {
    border-bottom-color: #444;
}

[data-theme="dark"] .modal-footer {
    border-top-color: #444;
}

/* Fix tables in dark mode */
[data-theme="dark"] .table {
    color: #e0e0e0;
}

    [data-theme="dark"] .table th {
        background-color: #1e1e1e;
        color: #e0e0e0;
    }

    [data-theme="dark"] .table td {
        border-color: #444;
    }

/* Chat and messages in dark mode */
[data-theme="dark"] .chat-container {
    background-color: #2d2d2d;
    border-color: #444;
}

[data-theme="dark"] .chat-header {
    border-bottom-color: #444;
}

[data-theme="dark"] .message-item.message-sent .message-bubble {
    background-color: #2c5f46;
}

[data-theme="dark"] .message-item.message-received .message-bubble {
    background-color: #3a3a3a;
    color: #e0e0e0;
}

[data-theme="dark"] .message-time {
    color: #a0a0a0;
}

[data-theme="dark"] .chat-input {
    border-top-color: #444;
}

    [data-theme="dark"] .chat-input .form-control {
        background-color: #3a3a3a;
        border-color: #444;
        color: #e0e0e0;
    }

[data-theme="dark"] .chat-messages {
    background-color: #1e1e1e;
}

/* City cards in dark mode */
[data-theme="dark"] .city-explore-card img {
    opacity: 0.8;
}

/* Fix for unread messages badge in dark mode */
[data-theme="dark"] .unread-badge {
    background-color: #63b3ed;
}

[data-theme="dark"] .unread-count {
    color: #a0a0a0;
}

[data-theme="dark"] .message-meta {
    color: #a0a0a0;
}

/* Fix for explore menu */
[data-theme="dark"] .explore-btn {
    background-color: #2c5f46;
    color: white;
}

    [data-theme="dark"] .explore-btn:hover {
        background-color: #3a7d5d;
    }

/* Fix for avatar in dark mode */
[data-theme="dark"] .avatar-circle {
    background-color: #2c5f46;
    color: white;
}

/* Improvements for alerts in dark mode */
[data-theme="dark"] .alert-info {
    background-color: #2c5f46 !important;
    color: white !important;
    border-color: #3a7d5d !important;
}

[data-theme="dark"] .alert-success {
    background-color: #0f5132 !important;
    color: white !important;
    border-color: #146c43 !important;
}

[data-theme="dark"] .alert-warning {
    background-color: #664d03 !important;
    color: white !important;
    border-color: #915e04 !important;
}

[data-theme="dark"] .alert-danger {
    background-color: #842029 !important;
    color: white !important;
    border-color: #b02a37 !important;
}